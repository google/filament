{
    "name": "presubmit",
    "backends": ["opengl", "vulkan", "webgpu"],
    "model_search_paths": ["third_party/models", "gltf"],
    "presets": [
        {
            "name": "base",
            "models": ["Box", "BoxTextured", "FlightHelmet", "lucy"],
            "rendering": {
                "camera.focalLength": 35.0,
                "view.postProcessingEnabled": true,
                "view.dithering": "NONE"
            },
            "tolerance": {                            // [optional] Simple tolerance - single criteria
                "maxAbsDiff": 0.0196,                 // Max absolute difference per channel (5/255)
                "maxFailingPixelsFraction": 0.001     // Percentage of pixels allowed to exceed (0.1%)
            }
        },
        {
            "name": "bloom_models",
            "models": ["DamagedHelmet"],
            "rendering": {}
        },
        {
            "name": "ssao_models",
            "models": ["Duck", "lucy"],
            "rendering": {}
        },
        {
            "name": "transmission_models",
            "models": ["TransmissionRoughnessTest", "IridescentDishWithOlives"],
            "rendering": {}
        }
    ],
    "tests": [
        {
            "name": "Bloom",
            "description": "Bloom",
            "apply_presets": ["base", "bloom_models"],
            // Do not include "webgpu" in the following backend since it is flaky (b/454921221)
            "backends": ["opengl", "vulkan"],
            "rendering": {
                "view.bloom.enabled": true
            }
        },
        {
            "name": "MSAA",
            "description": "Multisampling anti-aliasing",
            "apply_presets": ["base"],
            "rendering": {
                "view.msaa.enabled": true
            }
        },
        {
            "name": "Transimssion",
            "description": "transmission",
            "apply_presets": ["base", "transmission_models"],
            "rendering": {
                "camera.focalLength": 52.0
            }
        },
        {
            "name": "SSAO",
            "description": "Screen space ambient occulsion",
            "apply_presets": ["base", "ssao_models"],
            "rendering": {
                "view.ssao.enabled": true
            }
        }
    ]
}
