link.vk.multiUnitLayout.0.comp
Shader version: 450
local_size = (1, 1, 1)
local_size ids = (0, -1, -1)
0:? Sequence
0:7  Function Definition: main( ( global void)
0:7    Function Parameters: 
0:9    Sequence
0:9      Function Call: do_compute(u1; ( global void)
0:9        direct index ( temp highp uint)
0:9          'gl_GlobalInvocationID' ( in highp 3-component vector of uint GlobalInvocationID)
0:9          Constant:
0:9            0 (const int)
0:?   Linker Objects
0:?     'gl_WorkGroupSize' ( specialization-constant const highp 3-component vector of uint WorkGroupSize)
0:?       1 (const uint)
0:?       1 (const uint)
0:?       1 (const uint)

link.vk.multiUnitLayout.1.comp
Shader version: 450
local_size = (1, 1, 1)
0:? Sequence
0:7  Function Definition: do_compute(u1; ( global void)
0:7    Function Parameters: 
0:7      'index' ( in highp uint)
0:9    Sequence
0:9      add second child into first child ( temp highp 4-component vector of float)
0:9        indirect index (layout( column_major std430) temp highp 4-component vector of float)
0:9          data: direct index for structure (layout( column_major std430) buffer runtime-sized array of highp 4-component vector of float)
0:9            'dataBuf' (layout( set=0 binding=0 column_major std430) buffer block{layout( column_major std430) buffer runtime-sized array of highp 4-component vector of float data})
0:9            Constant:
0:9              0 (const int)
0:9          'index' ( in highp uint)
0:9        Constant:
0:9          1.000000
0:9          1.000000
0:9          1.000000
0:9          1.000000
0:?   Linker Objects
0:?     'dataBuf' (layout( set=0 binding=0 column_major std430) buffer block{layout( column_major std430) buffer runtime-sized array of highp 4-component vector of float data})


Linked compute stage:


Shader version: 450
local_size = (1, 1, 1)
local_size ids = (0, -1, -1)
0:? Sequence
0:7  Function Definition: main( ( global void)
0:7    Function Parameters: 
0:9    Sequence
0:9      Function Call: do_compute(u1; ( global void)
0:9        direct index ( temp highp uint)
0:9          'gl_GlobalInvocationID' ( in highp 3-component vector of uint GlobalInvocationID)
0:9          Constant:
0:9            0 (const int)
0:7  Function Definition: do_compute(u1; ( global void)
0:7    Function Parameters: 
0:7      'index' ( in highp uint)
0:9    Sequence
0:9      add second child into first child ( temp highp 4-component vector of float)
0:9        indirect index (layout( column_major std430) temp highp 4-component vector of float)
0:9          data: direct index for structure (layout( column_major std430) buffer runtime-sized array of highp 4-component vector of float)
0:9            'dataBuf' (layout( set=0 binding=0 column_major std430) buffer block{layout( column_major std430) buffer runtime-sized array of highp 4-component vector of float data})
0:9            Constant:
0:9              0 (const int)
0:9          'index' ( in highp uint)
0:9        Constant:
0:9          1.000000
0:9          1.000000
0:9          1.000000
0:9          1.000000
0:?   Linker Objects
0:?     'gl_WorkGroupSize' ( specialization-constant const highp 3-component vector of uint WorkGroupSize)
0:?       1 (const uint)
0:?       1 (const uint)
0:?       1 (const uint)
0:?     'dataBuf' (layout( set=0 binding=0 column_major std430) buffer block{layout( column_major std430) buffer runtime-sized array of highp 4-component vector of float data})

// Module Version 10000
// Generated by (magic number): 8000b
// Id's are bound by 40

                              Capability Shader
               1:             ExtInstImport  "GLSL.std.450"
                              MemoryModel Logical GLSL450
                              EntryPoint GLCompute 4  "main" 14
                              ExecutionMode 4 LocalSize 1 1 1
                              Source GLSL 450
                              Name 4  "main"
                              Name 10  "do_compute(u1;"
                              Name 9  "index"
                              Name 14  "gl_GlobalInvocationID"
                              Name 15  "param"
                              Name 24  "DataBuf"
                              MemberName 24(DataBuf) 0  "data"
                              Name 26  "dataBuf"
                              Decorate 14(gl_GlobalInvocationID) BuiltIn GlobalInvocationId
                              Decorate 23 ArrayStride 16
                              Decorate 24(DataBuf) BufferBlock
                              MemberDecorate 24(DataBuf) 0 Offset 0
                              Decorate 26(dataBuf) Binding 0
                              Decorate 26(dataBuf) DescriptorSet 0
                              Decorate 37 SpecId 0
                              Decorate 39 BuiltIn WorkgroupSize
               2:             TypeVoid
               3:             TypeFunction 2
               6:             TypeInt 32 0
               7:             TypePointer Function 6(int)
               8:             TypeFunction 2 7(ptr)
              12:             TypeVector 6(int) 3
              13:             TypePointer Input 12(ivec3)
14(gl_GlobalInvocationID):     13(ptr) Variable Input
              16:      6(int) Constant 0
              17:             TypePointer Input 6(int)
              21:             TypeFloat 32
              22:             TypeVector 21(float) 4
              23:             TypeRuntimeArray 22(fvec4)
     24(DataBuf):             TypeStruct 23
              25:             TypePointer Uniform 24(DataBuf)
     26(dataBuf):     25(ptr) Variable Uniform
              27:             TypeInt 32 1
              28:     27(int) Constant 0
              30:   21(float) Constant 1065353216
              31:   22(fvec4) ConstantComposite 30 30 30 30
              32:             TypePointer Uniform 22(fvec4)
              37:      6(int) SpecConstant 1
              38:      6(int) Constant 1
              39:   12(ivec3) SpecConstantComposite 37 38 38
         4(main):           2 Function None 3
               5:             Label
       15(param):      7(ptr) Variable Function
              18:     17(ptr) AccessChain 14(gl_GlobalInvocationID) 16
              19:      6(int) Load 18
                              Store 15(param) 19
              20:           2 FunctionCall 10(do_compute(u1;) 15(param)
                              Return
                              FunctionEnd
10(do_compute(u1;):           2 Function None 8
        9(index):      7(ptr) FunctionParameter
              11:             Label
              29:      6(int) Load 9(index)
              33:     32(ptr) AccessChain 26(dataBuf) 28 29
              34:   22(fvec4) Load 33
              35:   22(fvec4) FAdd 34 31
              36:     32(ptr) AccessChain 26(dataBuf) 28 29
                              Store 36 35
                              Return
                              FunctionEnd
